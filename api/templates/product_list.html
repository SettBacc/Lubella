<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Lista Palet</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/product_list.css' %}">
    <script>
        function clearInput(palletId) {
            const inputField = document.getElementById(`quantity-${palletId}`);
            inputField.value = '';
        }
    </script>
</head>
<body>
    <h1 class="title">Lista Palet</h1>
    <div class="pallet-container">
        {% for pallet_id, compositions in grouped_compositions.items %}
            <div class="pallet-card">
                <h2>Paleta ID: {{ pallet_id }}</h2>
                <div class="product-list">
                    {% for comp in compositions %}
                        <div class="product-card">
                            <h3>{{ comp.product_id.category }}</h3>
                            <p>Typ: {{ comp.product_id.type }}</p>
                            <p>Waga: {{ comp.product_id.weight }} kg</p>
                            <p>Cena: {{ comp.product_id.price }} PLN</p>
                            <p>Ilość: {{ comp.number_of_products }}</p>
                        </div>
                    {% endfor %}
                </div>
                <div class="product-actions">
                    <!-- Pole do wpisania ilości dla całej palety -->
                    <input type="number" id="quantity-{{ pallet_id }}" min="1">
                    <button onclick="clearInput('{{ pallet_id }}')">Dodaj do koszyka</button>
                </div>
            </div>
        {% endfor %}
    </div>
</body>
</html>
